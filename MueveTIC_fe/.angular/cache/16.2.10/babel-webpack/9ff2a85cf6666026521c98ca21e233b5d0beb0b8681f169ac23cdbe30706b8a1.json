{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ConsultasTelefonicasComponent = class ConsultasTelefonicasComponent {\n  constructor(accountService, router, vehicleService) {\n    this.accountService = accountService;\n    this.router = router;\n    this.vehicleService = vehicleService;\n    this.page = 1;\n    this.mostrarLista = true;\n    this.confirmarFinalizacion = false;\n    this.confirmarCancelacion = false;\n    this.status = 'ACTIVA';\n    this.id = ''; //Para que funcione bien el html no puede ser nulo\n    this.msg = \"Elija una opción\";\n    this.filterStatus = 'FINALIZADA';\n  }\n  redirectToReservas() {\n    this.router.navigate(['/reservations']);\n  }\n  redirectToVehiculos() {\n    this.router.navigate(['/vehiculos']);\n  }\n  menu() {\n    this.router.navigate(['/inicio']);\n  }\n  search() {\n    //Cuando se ejecute se buscan los vehículos teniendo en cuenta los filtros establecidos\n    this.lstReserv = this.lstReserves.filter(reserva => {\n      if (this.filterStatus == \"ACTIVA\" && reserva[\"state\"] == \"ACTIVA\") {\n        return true;\n      } else if (this.filterStatus == \"CANCELADA\" && reserva[\"state\"] == \"CANCELADA\") {\n        return true;\n      } else if (this.filterStatus == \"FINALIZADA\" && reserva[\"state\"] == \"FINALIZADA\") {\n        return true;\n      }\n      return false;\n    });\n  }\n  cancelSelect() {\n    this.page = 1;\n  }\n  selecionarRe(pos) {\n    console.log(pos[\"id\"]);\n    this.id = pos[\"id\"];\n    this.endDate = pos[\"end\"];\n    this.startDate = pos[\"start\"];\n    this.user = pos[\"userId\"];\n    this.status = pos[\"state\"];\n    this.vehicle = pos[\"vehicle\"][\"licensePlate\"];\n    this.valuation = pos[\"rating\"];\n    this.comment = pos[\"comment\"];\n    this.page = 0;\n  }\n  listReservasTelefonicas() {\n    this.page = 2;\n    this.consultaTelefonica();\n  }\n  consultaTelefonica() {\n    //Cuando se ejecute se buscan los vehículos teniendo en cuenta los filtros establecidos\n    console.log(\"HOLA\");\n    this.vehicleService.getLstReservesTelefonicas().subscribe({\n      next: respuesta => {\n        console.log(respuesta);\n        this.msg = \"\";\n        this.lstReserves = respuesta;\n        this.search();\n        //this.infoVehiculo(this.lstVehiculos)\n      },\n\n      error: error => {\n        this.msg = \"Ha ocurrido un error al mostrar la reserva especificada\";\n      }\n    });\n  }\n};\nConsultasTelefonicasComponent = __decorate([Component({\n  selector: 'app-consultas-telefonicas',\n  templateUrl: './consultas-telefonicas.component.html',\n  styleUrls: ['./consultas-telefonicas.component.css']\n})], ConsultasTelefonicasComponent);","map":{"version":3,"names":["Component","ConsultasTelefonicasComponent","constructor","accountService","router","vehicleService","page","mostrarLista","confirmarFinalizacion","confirmarCancelacion","status","id","msg","filterStatus","redirectToReservas","navigate","redirectToVehiculos","menu","search","lstReserv","lstReserves","filter","reserva","cancelSelect","selecionarRe","pos","console","log","endDate","startDate","user","vehicle","valuation","comment","listReservasTelefonicas","consultaTelefonica","getLstReservesTelefonicas","subscribe","next","respuesta","error","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Usuario\\Desktop\\gitHub\\MueveTICMantenimientoFRONT\\MueveTIC_fe\\src\\app\\consultas-telefonicas\\consultas-telefonicas.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { AccountService } from '../account.service';\r\nimport { Router } from '@angular/router';\r\nimport { ReservationsComponent } from '../reservations/reservations.component';\r\nimport { VehicleService } from '../vehicle.service';\r\n\r\n@Component({\r\n  selector: 'app-consultas-telefonicas',\r\n  templateUrl: './consultas-telefonicas.component.html',\r\n  styleUrls: ['./consultas-telefonicas.component.css']\r\n})\r\nexport class ConsultasTelefonicasComponent {\r\n\r\n  constructor(public accountService: AccountService, private router: Router, private vehicleService : VehicleService) {}\r\n  \r\n  page : number = 1\r\n  mostrarLista : boolean = true\r\n  confirmarFinalizacion : boolean = false\r\n  confirmarCancelacion : boolean = false\r\n  status?: string = 'ACTIVA'\r\n  id: string = '' //Para que funcione bien el html no puede ser nulo\r\n  vehicle?: string\r\n  user?: string\r\n  endDate?: Date\r\n  startDate?: Date\r\n  valuation?: number\r\n  comment?: string\r\n  msg?: string = \"Elija una opción\"\r\n  filterStatus?: string = 'FINALIZADA'\r\n  reserva? : any\r\n  lstReserv? : any\r\n  lstReserves? : any\r\n\r\n  redirectToReservas() {\r\n    this.router.navigate(['/reservations'])\r\n  }\r\n\r\n  redirectToVehiculos() {\r\n    this.router.navigate(['/vehiculos']);\r\n  }\r\n\r\n  menu(){\r\n    this.router.navigate(['/inicio']);\r\n  }\r\n\r\n  search(){\r\n        //Cuando se ejecute se buscan los vehículos teniendo en cuenta los filtros establecidos\r\n        this.lstReserv = this.lstReserves.filter((reserva: { [x: string]: string }) => {\r\n          if (this.filterStatus == \"ACTIVA\" && reserva[\"state\"] == \"ACTIVA\") {\r\n            return true;\r\n          } else if (this.filterStatus == \"CANCELADA\" && reserva[\"state\"] == \"CANCELADA\") {\r\n            return true;\r\n          } else if (this.filterStatus == \"FINALIZADA\" && reserva[\"state\"] == \"FINALIZADA\") {\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n  }\r\n\r\n  cancelSelect(){\r\n    this.page = 1\r\n  }\r\n\r\n  selecionarRe(pos : any){\r\n    console.log(pos[\"id\"])\r\n    this.id = pos[\"id\"]\r\n    this.endDate = pos[\"end\"]\r\n    this.startDate = pos[\"start\"]\r\n    this.user = pos[\"userId\"]\r\n    this.status = pos[\"state\"]\r\n    this.vehicle = pos[\"vehicle\"][\"licensePlate\"]\r\n    this.valuation = pos[\"rating\"]\r\n    this.comment = pos[\"comment\"]\r\n    this.page = 0\r\n  }\r\n\r\n  listReservasTelefonicas(){\r\n    this.page = 2\r\n    this.consultaTelefonica()\r\n  }\r\n\r\n  consultaTelefonica(){\r\n    //Cuando se ejecute se buscan los vehículos teniendo en cuenta los filtros establecidos\r\n    console.log(\"HOLA\")\r\n    this.vehicleService.getLstReservesTelefonicas()\r\n    .subscribe({\r\n      next: respuesta => {\r\n        console.log(respuesta)\r\n        this.msg = \"\"\r\n        this.lstReserves = respuesta\r\n        this.search()\r\n        //this.infoVehiculo(this.lstVehiculos)\r\n      },\r\n      error: error => {\r\n        this.msg = \"Ha ocurrido un error al mostrar la reserva especificada\";\r\n      }\r\n    })\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}